const _0x4d9b=['removeciepoint','Width','splice','green','1213213sUaHrt','input_file','scaleTitleFontSize','calculexy','801sInFAn','axisColor','40px','Color','120px','saveImage','name','1332630jGQAFg','replace','Axis:','size','red','Font\x20size','axisScaleFont','Remove\x20CIE\x20coordinate','data','1wVWnEb','202uZfRrB','width','parent','Walter\x20Turncoat','black','CIE1931chromaticitydiagram.jpg','position','userFileLoaded','slice','Save\x20as\x20image','110px','split','borderWidth','legendFont','1588jGYNHm','1597tTYMjo','1568948xDMDDY','push','Font','height','File\x20id:','magenta','Legends:','option','input','775jIPAAq','80px','fontSize','blue','18px','mousePressed','680Dwyxlg','Times\x20New\x20Roman','style','Arial','forEach','text','length','legendColor','axisFont','addbutton','yellow','Axis\x20title:','axisScaleFontSize','CIEpoint','add\x20CIE\x20coordinate','Georgia','save_image','CCT','axisTitleColor','12px','CIEimage','axisScaleColor','CIELUV\x20chromaticiy\x20diagram\x201976','test','addciepoint','files/ciexyz31_1.csv','forCanvas','value','legendFontSize','356009UbRJnt','getData','Border:','Not\x20applicable'];const _0xe5c7d7=_0x1a20;(function(_0x2b56ed,_0x539e9e){const _0x1f5880=_0x1a20;while(!![]){try{const _0x3aee3e=parseInt(_0x1f5880(0x232))*-parseInt(_0x1f5880(0x1f8))+parseInt(_0x1f5880(0x209))*parseInt(_0x1f5880(0x243))+-parseInt(_0x1f5880(0x203))*-parseInt(_0x1f5880(0x1f9))+-parseInt(_0x1f5880(0x226))+parseInt(_0x1f5880(0x22e))+parseInt(_0x1f5880(0x239))+-parseInt(_0x1f5880(0x1fa))*parseInt(_0x1f5880(0x242));if(_0x3aee3e===_0x539e9e)break;else _0x2b56ed['push'](_0x2b56ed['shift']());}catch(_0xb9b51f){_0x2b56ed['push'](_0x2b56ed['shift']());}}}(_0x4d9b,0xb0bdd));function preload(){img=loadImage('images/CIE1976gamut.png');}let xyzWavelength=[],xValues=[],yValues=[],zValues=[],z=0x0,wavelengthcol=[],intensitycol=[],wavelength=[],xdata=[],ydata=[],zdata=[],x,y,xcoordinate=[],ycoordinate=[],symbol=['∇','♠','♣','+','±','x','o','♥','♦','•','#','&'],symbolpoint=[],namesArray=[],inputx,inputy,inputcct,input_file_id,file_name,filename1,canvas;function setup(){const _0x3bb490=_0x1a20;canvas=createCanvas(windowWidth*0x46/0x64,0x226),canvas[_0x3bb490(0x1ec)]('forCanvas'),ciegraph=new CIEGraph(),ciefileReader=new CIEFileReader(),ciefileReader[_0x3bb490(0x227)]();}function draw(){const _0x51b57a=_0x1a20;background(0x100),ciegraph['CIEimage'](),ciegraph['axis'](),ciefileReader[_0x51b57a(0x20e)](),ciefileReader[_0x51b57a(0x216)]();}function _0x1a20(_0x473c2a,_0x26fd02){return _0x1a20=function(_0x4d9b4b,_0x1a20ce){_0x4d9b4b=_0x4d9b4b-0x1ec;let _0x5f1ba4=_0x4d9b[_0x4d9b4b];return _0x5f1ba4;},_0x1a20(_0x473c2a,_0x26fd02);}function realTimeChanger(){}class CIEGraph{constructor(){const _0x1bead6=_0x1a20;this['borderWidth']=createSelect(),this[_0x1bead6(0x1f6)][_0x1bead6(0x1f0)](0x20d,0x8e),this[_0x1bead6(0x1f6)][_0x1bead6(0x1ec)]('forCanvas'),this['borderWidth'][_0x1bead6(0x20b)](_0x1bead6(0x205),_0x1bead6(0x21c)),this[_0x1bead6(0x1f6)][_0x1bead6(0x20b)](_0x1bead6(0x244),_0x1bead6(0x204)),this[_0x1bead6(0x1f6)][_0x1bead6(0x20b)]('height',_0x1bead6(0x207)),this['borderWidth'][_0x1bead6(0x201)](0x1,'1'),this['borderWidth'][_0x1bead6(0x201)](0x2,'2'),this[_0x1bead6(0x1f6)]['option'](0x3,'3'),this[_0x1bead6(0x1f6)][_0x1bead6(0x201)](0x4,'4'),this['borderWidth'][_0x1bead6(0x201)](0x5,'5'),this[_0x1bead6(0x1f6)][_0x1bead6(0x202)](realTimeChanger),this['axisScaleFontSize']=createSelect(),this[_0x1bead6(0x215)]['position'](0x226,0xf7),this[_0x1bead6(0x215)][_0x1bead6(0x1ec)]('forCanvas'),this['axisScaleFontSize']['style'](_0x1bead6(0x205),_0x1bead6(0x21c)),this['axisScaleFontSize'][_0x1bead6(0x20b)](_0x1bead6(0x244),_0x1bead6(0x234)),this[_0x1bead6(0x215)]['style'](_0x1bead6(0x1fd),_0x1bead6(0x207)),this['axisScaleFontSize'][_0x1bead6(0x201)](0xa,'10'),this['axisScaleFontSize'][_0x1bead6(0x201)](0xc,'12'),this[_0x1bead6(0x215)][_0x1bead6(0x201)](0xe,'14'),this[_0x1bead6(0x215)]['option'](0x10,'16'),this[_0x1bead6(0x215)][_0x1bead6(0x201)](0x12,'18'),this[_0x1bead6(0x215)][_0x1bead6(0x202)](realTimeChanger),this[_0x1bead6(0x23f)]=createSelect(),this['axisScaleFont'][_0x1bead6(0x1f0)](0x280,0xb6),this['axisScaleFont'][_0x1bead6(0x1ec)]('forCanvas'),this[_0x1bead6(0x23f)][_0x1bead6(0x20b)](_0x1bead6(0x205),_0x1bead6(0x21c)),this['axisScaleFont'][_0x1bead6(0x20b)](_0x1bead6(0x244),_0x1bead6(0x236)),this[_0x1bead6(0x23f)][_0x1bead6(0x20b)](_0x1bead6(0x1fd),'18px'),this['axisScaleFont']['option'](_0x1bead6(0x218)),this[_0x1bead6(0x23f)]['option']('Arial'),this['axisScaleFont'][_0x1bead6(0x201)]('Walter\x20Turncoat'),this[_0x1bead6(0x23f)][_0x1bead6(0x201)]('Times\x20New\x20Roman'),this[_0x1bead6(0x23f)]['input'](realTimeChanger),this['axisFont']=createSelect(),this[_0x1bead6(0x211)][_0x1bead6(0x1f0)](0x280,0xf6),this['axisFont']['parent'](_0x1bead6(0x223)),this[_0x1bead6(0x211)]['style'](_0x1bead6(0x205),'12px'),this['axisFont'][_0x1bead6(0x20b)](_0x1bead6(0x244),_0x1bead6(0x236)),this[_0x1bead6(0x211)][_0x1bead6(0x20b)](_0x1bead6(0x1fd),_0x1bead6(0x207)),this[_0x1bead6(0x211)][_0x1bead6(0x201)]('Georgia'),this[_0x1bead6(0x211)][_0x1bead6(0x201)]('Arial'),this[_0x1bead6(0x211)][_0x1bead6(0x201)](_0x1bead6(0x1ed)),this[_0x1bead6(0x211)][_0x1bead6(0x201)](_0x1bead6(0x20a)),this[_0x1bead6(0x211)][_0x1bead6(0x202)](realTimeChanger),this[_0x1bead6(0x233)]=createSelect(),this['axisColor'][_0x1bead6(0x1f0)](0x28a,0x8c),this[_0x1bead6(0x233)][_0x1bead6(0x1ec)]('forCanvas'),this[_0x1bead6(0x233)][_0x1bead6(0x20b)](_0x1bead6(0x205),_0x1bead6(0x21c)),this[_0x1bead6(0x233)]['style'](_0x1bead6(0x244),'110px'),this[_0x1bead6(0x233)][_0x1bead6(0x20b)](_0x1bead6(0x1fd),_0x1bead6(0x207)),this[_0x1bead6(0x233)][_0x1bead6(0x201)]('black'),this[_0x1bead6(0x233)][_0x1bead6(0x201)](_0x1bead6(0x23d)),this[_0x1bead6(0x233)][_0x1bead6(0x201)](_0x1bead6(0x22d)),this[_0x1bead6(0x233)][_0x1bead6(0x201)](_0x1bead6(0x1ff)),this[_0x1bead6(0x233)][_0x1bead6(0x201)](_0x1bead6(0x213)),this[_0x1bead6(0x233)][_0x1bead6(0x201)](_0x1bead6(0x206)),this['axisColor']['input'](realTimeChanger),this[_0x1bead6(0x21b)]=createSelect(),this[_0x1bead6(0x21b)][_0x1bead6(0x1f0)](0x20f,0xcc),this[_0x1bead6(0x21b)][_0x1bead6(0x1ec)]('forCanvas'),this['axisTitleColor'][_0x1bead6(0x20b)](_0x1bead6(0x205),'12px'),this[_0x1bead6(0x21b)][_0x1bead6(0x20b)](_0x1bead6(0x244),_0x1bead6(0x1f4)),this[_0x1bead6(0x21b)][_0x1bead6(0x20b)]('height',_0x1bead6(0x207)),this['axisTitleColor'][_0x1bead6(0x201)](_0x1bead6(0x1ee)),this[_0x1bead6(0x21b)][_0x1bead6(0x201)](_0x1bead6(0x23d)),this[_0x1bead6(0x21b)][_0x1bead6(0x201)](_0x1bead6(0x22d)),this[_0x1bead6(0x21b)][_0x1bead6(0x201)](_0x1bead6(0x1ff)),this[_0x1bead6(0x21b)][_0x1bead6(0x201)]('yellow'),this[_0x1bead6(0x21b)][_0x1bead6(0x201)](_0x1bead6(0x206)),this[_0x1bead6(0x21b)]['input'](realTimeChanger),this['axisScaleColor']=createSelect(),this[_0x1bead6(0x21e)][_0x1bead6(0x1f0)](0x212,0x10e),this['axisScaleColor']['parent'](_0x1bead6(0x223)),this[_0x1bead6(0x21e)][_0x1bead6(0x20b)](_0x1bead6(0x205),'12px'),this[_0x1bead6(0x21e)][_0x1bead6(0x20b)](_0x1bead6(0x244),'110px'),this[_0x1bead6(0x21e)][_0x1bead6(0x20b)](_0x1bead6(0x1fd),_0x1bead6(0x207)),this[_0x1bead6(0x21e)]['option'](_0x1bead6(0x1ee)),this['axisScaleColor'][_0x1bead6(0x201)](_0x1bead6(0x23d)),this[_0x1bead6(0x21e)][_0x1bead6(0x201)]('green'),this[_0x1bead6(0x21e)][_0x1bead6(0x201)](_0x1bead6(0x1ff)),this['axisScaleColor']['option'](_0x1bead6(0x213)),this[_0x1bead6(0x21e)][_0x1bead6(0x201)](_0x1bead6(0x206)),this[_0x1bead6(0x21e)][_0x1bead6(0x202)](realTimeChanger),this['scaleTitleFontSize']=createSelect(),this['scaleTitleFontSize'][_0x1bead6(0x1f0)](0x221,0xb6),this['scaleTitleFontSize']['parent'](_0x1bead6(0x223)),this['scaleTitleFontSize']['style']('fontSize','12px'),this[_0x1bead6(0x230)]['style'](_0x1bead6(0x244),_0x1bead6(0x234)),this[_0x1bead6(0x230)][_0x1bead6(0x20b)](_0x1bead6(0x1fd),_0x1bead6(0x207)),this[_0x1bead6(0x230)]['option'](0xa,'10'),this[_0x1bead6(0x230)][_0x1bead6(0x201)](0xc,'12'),this[_0x1bead6(0x230)]['option'](0xe,'14'),this['scaleTitleFontSize']['option'](0x10,'16'),this['scaleTitleFontSize'][_0x1bead6(0x201)](0x12,'18'),this[_0x1bead6(0x230)][_0x1bead6(0x201)](0x14,'20'),this[_0x1bead6(0x230)][_0x1bead6(0x201)](0x16,'22'),this['scaleTitleFontSize']['input'](realTimeChanger);}['axis'](){const _0x493490=_0x1a20;textAlign(CENTER),strokeWeight(0x1),line(0x1de,0x0,0x1de,0x226),line(0x2fa,0x0,0x2fa,0x226),line(0x0,0x226,0x2f8,0x226),line(0x1e0,0x78,0x2f8,0x78),line(0x1e0,0xa2,0x2f8,0xa2),line(0x1e0,0xe1,0x2f8,0xe1),line(0x1e0,0x122,0x2f8,0x122),push(),translate(0x64,0x1ce),stroke(this[_0x493490(0x233)]['value']()),strokeWeight(this[_0x493490(0x1f6)]['value']()),line(0x0,0x0,0x150,0x0),line(0x0,0x0,0x0,-0x17a),line(0x0,-0x17a,0x150,-0x17a),line(0x150,0x0,0x150,-0x17a),strokeWeight(this[_0x493490(0x1f6)][_0x493490(0x224)]());for(let _0x47e919=0x0;_0x47e919<=0x150;_0x47e919=_0x47e919+0x30){line(_0x47e919,0x0,_0x47e919,0x8);}for(let _0x7da88c=0x0;_0x7da88c<=0x17a;_0x7da88c=_0x7da88c+0x36){line(0x0,-_0x7da88c,-0x8,-_0x7da88c);}strokeWeight(Number(this[_0x493490(0x215)][_0x493490(0x224)]())/0xf),textSize(Number(this[_0x493490(0x215)][_0x493490(0x224)]())),fill(this[_0x493490(0x21e)]['value']()),stroke(this['axisScaleColor'][_0x493490(0x224)]()),textFont(''+this[_0x493490(0x211)][_0x493490(0x224)]());for(let _0x3fbe0a=0x0;_0x3fbe0a<=0x150;_0x3fbe0a=_0x3fbe0a+0x30){text(''+round(0.1*(_0x3fbe0a/0x30),0x1),_0x3fbe0a,0x19);}for(let _0x2cef27=0x0;_0x2cef27<=0x17a;_0x2cef27=_0x2cef27+0x36){text(''+round(0.1*(_0x2cef27/0x36),0x1),-0x19,-_0x2cef27);}strokeWeight(0.5),noFill(),beginShape();for(let _0x53fa35=0x0;_0x53fa35<xdata[_0x493490(0x20f)];_0x53fa35++){vertex(0x4*xdata[_0x53fa35]/(xdata[_0x53fa35]+0xf*ydata[_0x53fa35]+0x3*zdata[_0x53fa35])*0x1e0,0x9*ydata[_0x53fa35]/(xdata[_0x53fa35]+0xf*ydata[_0x53fa35]+0x3*zdata[_0x53fa35])*-0x21e);}endShape(CLOSE),pop(),fill(this['axisTitleColor'][_0x493490(0x224)]()),textFont(''+this[_0x493490(0x23f)][_0x493490(0x224)]()),textSize(Number(this['scaleTitleFontSize'][_0x493490(0x224)]())),text('u\x27',0x10e,0x1f9),text('v\x27',0x37,0x118),fill(_0x493490(0x1ee)),textSize(0xc),textStyle(BOLD),text(_0x493490(0x228),0x1fe,0x87),text(_0x493490(0x23b),0x1f9,0xf3),text(_0x493490(0x214),0x203,0xb2),text(_0x493490(0x200),0x203,0x136),textStyle(ITALIC),textSize(0xc),textFont(_0x493490(0x20c)),text(_0x493490(0x235),0x276,0x9b),text(_0x493490(0x235),0x1f9,0xd9),text('Color',0x1f9,0x11d),text(_0x493490(0x235),0x1f9,0x163),text(_0x493490(0x22b),0x1f9,0x9b),text(_0x493490(0x1fc),0x26c,0xc3),text(_0x493490(0x1fc),0x26c,0x104),text(_0x493490(0x1fc),0x26c,0x14a),text(_0x493490(0x23e),0x203,0xc3),text(_0x493490(0x23e),0x203,0x104),text('Font\x20size',0x203,0x14a),text(_0x493490(0x1fe),0x1fe,0x55),textSize(0x1c),textStyle(NORMAL),textFont(_0x493490(0x1ed)),text(_0x493490(0x21f),0xfa,0x32);}[_0xe5c7d7(0x21d)](){image(img,0x55,0x78,0x13f,0x167);}}class CIEFileReader{constructor(){const _0xa481fb=_0xe5c7d7;this[_0xa481fb(0x22f)]=createFileInput(this[_0xa481fb(0x1f1)]),this[_0xa481fb(0x22f)][_0xa481fb(0x1f0)](0x1ea,0x14),this[_0xa481fb(0x22f)][_0xa481fb(0x1ec)](_0xa481fb(0x223)),this[_0xa481fb(0x212)]=createButton('Calculate'),this[_0xa481fb(0x212)]['position'](0x2af,0x14),this['addbutton']['parent'](_0xa481fb(0x223)),this[_0xa481fb(0x212)][_0xa481fb(0x208)](this[_0xa481fb(0x231)]),this[_0xa481fb(0x221)]=createButton(_0xa481fb(0x217)),this[_0xa481fb(0x221)]['position'](0x276,0x46),this[_0xa481fb(0x221)][_0xa481fb(0x1ec)]('forCanvas'),this['addciepoint'][_0xa481fb(0x208)](this['addCIEpoint']),this[_0xa481fb(0x22a)]=createButton(_0xa481fb(0x240)),this[_0xa481fb(0x22a)]['position'](0x1ea,0x5f),this['removeciepoint'][_0xa481fb(0x1ec)](_0xa481fb(0x223)),this[_0xa481fb(0x22a)]['mousePressed'](this['removeCIEpoint']),this['save_image']=createButton(_0xa481fb(0x1f3)),this[_0xa481fb(0x219)][_0xa481fb(0x1f0)](0x290,0x5f),this[_0xa481fb(0x219)][_0xa481fb(0x1ec)](_0xa481fb(0x223)),this[_0xa481fb(0x219)]['mousePressed'](this[_0xa481fb(0x237)]),inputx=createInput(),inputx[_0xa481fb(0x1f0)](0x1f9,0x2d),inputx[_0xa481fb(0x23c)](0x28),inputx[_0xa481fb(0x1ec)](_0xa481fb(0x223)),inputy=createInput(),inputy['position'](0x24e,0x2d),inputy[_0xa481fb(0x23c)](0x28),inputy[_0xa481fb(0x1ec)](_0xa481fb(0x223)),inputcct=createInput(),inputcct[_0xa481fb(0x1f0)](0x2a8,0x2d),inputcct[_0xa481fb(0x23c)](0x48),inputcct[_0xa481fb(0x1ec)](_0xa481fb(0x223)),input_file_id=createInput(),input_file_id[_0xa481fb(0x1f0)](0x212,0x46),input_file_id[_0xa481fb(0x23c)](0x50),input_file_id[_0xa481fb(0x1ec)](_0xa481fb(0x223)),this[_0xa481fb(0x225)]=createSelect(),this[_0xa481fb(0x225)][_0xa481fb(0x1f0)](0x226,0x13d),this['legendFontSize'][_0xa481fb(0x1ec)]('forCanvas'),this[_0xa481fb(0x225)][_0xa481fb(0x20b)]('fontSize',_0xa481fb(0x21c)),this[_0xa481fb(0x225)]['style'](_0xa481fb(0x244),'40px'),this[_0xa481fb(0x225)][_0xa481fb(0x20b)](_0xa481fb(0x1fd),_0xa481fb(0x207)),this['legendFontSize'][_0xa481fb(0x201)](0xa,'10'),this['legendFontSize'][_0xa481fb(0x201)](0xc,'12'),this[_0xa481fb(0x225)]['option'](0xe,'14'),this[_0xa481fb(0x225)]['option'](0x10,'16'),this['legendFontSize'][_0xa481fb(0x201)](0x12,'18'),this[_0xa481fb(0x225)][_0xa481fb(0x202)](realTimeChanger),this[_0xa481fb(0x1f7)]=createSelect(),this[_0xa481fb(0x1f7)]['position'](0x280,0x13d),this[_0xa481fb(0x1f7)][_0xa481fb(0x1ec)](_0xa481fb(0x223)),this[_0xa481fb(0x1f7)][_0xa481fb(0x20b)](_0xa481fb(0x205),_0xa481fb(0x21c)),this[_0xa481fb(0x1f7)][_0xa481fb(0x20b)]('width',_0xa481fb(0x236)),this[_0xa481fb(0x1f7)][_0xa481fb(0x20b)](_0xa481fb(0x1fd),_0xa481fb(0x207)),this[_0xa481fb(0x1f7)][_0xa481fb(0x201)](_0xa481fb(0x218)),this[_0xa481fb(0x1f7)][_0xa481fb(0x201)](_0xa481fb(0x20c)),this[_0xa481fb(0x1f7)][_0xa481fb(0x201)](_0xa481fb(0x1ed)),this[_0xa481fb(0x1f7)][_0xa481fb(0x201)](_0xa481fb(0x20a)),this['legendFont'][_0xa481fb(0x202)](realTimeChanger),this[_0xa481fb(0x210)]=createSelect(),this[_0xa481fb(0x210)][_0xa481fb(0x1f0)](0x20f,0x156),this[_0xa481fb(0x210)][_0xa481fb(0x1ec)]('forCanvas'),this[_0xa481fb(0x210)][_0xa481fb(0x20b)](_0xa481fb(0x205),'12px'),this[_0xa481fb(0x210)][_0xa481fb(0x20b)](_0xa481fb(0x244),_0xa481fb(0x1f4)),this[_0xa481fb(0x210)][_0xa481fb(0x20b)](_0xa481fb(0x1fd),'18px'),this[_0xa481fb(0x210)][_0xa481fb(0x201)](_0xa481fb(0x1ee)),this['legendColor'][_0xa481fb(0x201)](_0xa481fb(0x23d)),this['legendColor'][_0xa481fb(0x201)](_0xa481fb(0x22d)),this[_0xa481fb(0x210)]['option']('magenta'),this[_0xa481fb(0x210)][_0xa481fb(0x201)](_0xa481fb(0x213)),this['legendColor'][_0xa481fb(0x201)](_0xa481fb(0x206)),this[_0xa481fb(0x210)][_0xa481fb(0x202)](realTimeChanger);}async['getData'](){const _0x476213=_0xe5c7d7,_0x38f39b=await fetch(_0x476213(0x222)),_0x1ec099=await _0x38f39b[_0x476213(0x20e)](),_0xf72f20=_0x1ec099[_0x476213(0x1f5)]('\x0a')[_0x476213(0x1f2)]();_0xf72f20['forEach'](_0xf18143=>{const _0x1837b4=_0x476213,_0x210c77=_0xf18143[_0x1837b4(0x1f5)](',');wavelength[_0x1837b4(0x1fb)](float(_0x210c77[0x0])),xdata['push'](float(_0x210c77[0x1])),ydata[_0x1837b4(0x1fb)](float(_0x210c77[0x2])),zdata['push'](float(_0x210c77[0x3]));});}[_0xe5c7d7(0x20e)](){const _0x503a3d=_0xe5c7d7;textSize(0x10),text('u\x27',0x1ef,0x3c),text('v\x27',0x244,0x3c),text(_0x503a3d(0x21a),0x294,0x3c);}['userFileLoaded'](_0x47fb64){const _0x54f0d5=_0xe5c7d7;wavelengthcol=[],intensitycol=[];if(_0x47fb64['type']===_0x54f0d5(0x20e)){let _0x57946d=_0x47fb64[_0x54f0d5(0x241)][_0x54f0d5(0x1f5)]('\x0a');_0x57946d[_0x54f0d5(0x20d)](_0x53d5ad=>{const _0x355438=_0x54f0d5;let _0x553fbf=/^[0-9,\s|.]/,_0x3b6995=_0x553fbf[_0x355438(0x220)](_0x53d5ad);if(_0x3b6995){let _0x364f3b=_0x53d5ad[_0x355438(0x23a)]('\x09',','),_0x30a284=_0x364f3b[_0x355438(0x1f5)](',');_0x30a284[0x1]<0x0?(alert('Your\x20emission\x20data\x20contains\x20negative\x20values,\x20this\x20may\x20lead\x20to\x20an\x20inaccurate\x20results.\x20\x0a\x20click\x20ok\x20if\x20you\x20willing\x20to\x20continue'),wavelengthcol['push'](_0x30a284[0x0]),intensitycol[_0x355438(0x1fb)](_0x30a284[0x1])):(wavelengthcol[_0x355438(0x1fb)](_0x30a284[0x0]),intensitycol['push'](_0x30a284[0x1]));}else{}}),print(wavelengthcol,intensitycol);}else alert('load\x20txt\x20file\x20format\x20please');file_name=str(_0x47fb64[_0x54f0d5(0x238)]),filename1=file_name[_0x54f0d5(0x1f5)]('.');}['calculexy'](){const _0x215fdb=_0xe5c7d7;xyzWavelength=[],xValues=[],yValues=[],zValues=[];for(let _0x4b7431=0x0;_0x4b7431<=wavelength[_0x215fdb(0x20f)];_0x4b7431++){for(let _0x749c36=0x0;_0x749c36<=wavelengthcol['length'];_0x749c36++){let _0x77ff65=wavelength[_0x4b7431],_0x311e34=round(float(wavelengthcol[_0x749c36]));if(_0x77ff65===_0x311e34)xyzWavelength[_0x215fdb(0x1fb)](_0x311e34),xValues['push'](float(intensitycol[_0x749c36])*xdata[_0x4b7431]),yValues[_0x215fdb(0x1fb)](float(intensitycol[_0x749c36])*ydata[_0x4b7431]),zValues[_0x215fdb(0x1fb)](float(intensitycol[_0x749c36])*zdata[_0x4b7431]);else{}}}let _0x4a21ff=0x0,_0x3c023a=0x0,_0x1791ed=0x0;for(let _0x571f3c=0x0;_0x571f3c<xyzWavelength[_0x215fdb(0x20f)];_0x571f3c++){_0x4a21ff+=xValues[_0x571f3c],_0x3c023a+=yValues[_0x571f3c],_0x1791ed+=zValues[_0x571f3c];}x=0x4*_0x4a21ff/(_0x4a21ff+0xf*_0x3c023a+0x3*_0x1791ed),y=0x9*_0x3c023a/(_0x4a21ff+0xf*_0x3c023a+0x3*_0x1791ed),print(x,y);let _0x22a34e,_0x3b5092;_0x22a34e=(x-0.332)/(0.1858-y),_0x3b5092=0x1b5*pow(_0x22a34e,0x3)+0xe11*pow(_0x22a34e,0x2)+0x1acd*_0x22a34e+0x158d,inputx[_0x215fdb(0x224)](round(x,0x3)),inputy[_0x215fdb(0x224)](round(y,0x3)),inputcct[_0x215fdb(0x224)](_0x215fdb(0x229)),input_file_id['value'](filename1[0x0]);}['addCIEpoint'](){const _0x17b043=_0xe5c7d7;let _0x307cba=inputx['value'](),_0x6dd3b8=inputy[_0x17b043(0x224)](),_0x1efc3c=input_file_id[_0x17b043(0x224)]();xcoordinate[_0x17b043(0x1fb)](round(_0x307cba,0x3)),ycoordinate[_0x17b043(0x1fb)](round(_0x6dd3b8,0x3)),symbolpoint['push'](symbol[z]),namesArray[_0x17b043(0x1fb)](_0x1efc3c),z++,print(x,y,xcoordinate);}[_0xe5c7d7(0x216)](){const _0x46655b=_0xe5c7d7;fill(this[_0x46655b(0x210)][_0x46655b(0x224)]()),textFont(this[_0x46655b(0x1f7)][_0x46655b(0x224)]()),textSize(Number(this[_0x46655b(0x225)][_0x46655b(0x224)]())),textAlign(LEFT),textStyle(NORMAL);for(let _0x2a26ae=0x0;_0x2a26ae<=xcoordinate[_0x46655b(0x20f)]-0x1;_0x2a26ae++){push(),translate(0x64,0x1ce),text(''+symbolpoint[_0x2a26ae],float(xcoordinate[_0x2a26ae])*0x1e0-Number(this[_0x46655b(0x225)]['value']())/3.5,float(ycoordinate[_0x2a26ae]*-0x220)+Number(this[_0x46655b(0x225)]['value']())/3.5),pop(),push(),translate(0x0,0x64),text(symbolpoint[_0x2a26ae]+'\x20'+namesArray[_0x2a26ae],0x12c,_0x2a26ae*0x14),pop();}}['removeCIEpoint'](){const _0x3f52ec=_0xe5c7d7;xcoordinate[_0x3f52ec(0x22c)](-0x1,0x1),ycoordinate['splice'](-0x1,0x1),symbolpoint[_0x3f52ec(0x22c)](-0x1,0x1),namesArray[_0x3f52ec(0x22c)](-0x1,0x1);}['saveImage'](){const _0x9107be=_0xe5c7d7;resizeCanvas(0x1db,0x221),save(canvas,_0x9107be(0x1ef)),setup();}}
