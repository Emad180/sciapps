const _0xb4e3=['128438tWxHzJ','split','text','CIEpoint','borderWidth','Not\x20applicable','axisScaleFont','Font','Axis\x20title:','Georgia','88459QsHkrh','legendFont','844016BKVUJf','height','test','input','Color','1QkecFx','magenta','Font\x20size','red','Times\x20New\x20Roman','images/CIE1976gamut.png','155111KihUyc','add\x20CIE\x20coordinate','forCanvas','type','files/ciexyz31_1.csv','84653upnaHc','black','2OedpWi','position','mousePressed','size','File\x20id:','addCIEpoint','green','1cBXKrt','parent','splice','CIE1931chromaticitydiagram.jpg','push','18px','CIEimage','Save\x20as\x20image','12px','value','axis','calculexy','Legends:','save_image','Remove\x20CIE\x20coordinate','fontSize','Axis:','92IKumfH','9069HMxjlA','Arial','Intensity\x20column\x20contains\x20negative\x20values,\x20this\x20may\x20lead\x20to\x20an\x20inaccurate\x20results.\x20\x0a\x20click\x20ok\x20to\x20continue','userFileLoaded','120px','axisFont','option','forEach','40px','data','Border:','legendColor','removeCIEpoint','axisTitleColor','110px','addbutton','removeciepoint','yellow','input_file','Walter\x20Turncoat','80px','102045zmmpaV','load\x20txt\x20file\x20format\x20please','style','axisScaleFontSize','axisColor','axisScaleColor','addciepoint','CIELUV\x20chromaticiy\x20diagram\x201976','scaleTitleFontSize','Width','width','name','legendFontSize','blue','getData','saveImage','length','slice','7mxxVMn'];const _0x4dce8f=_0x32fc;(function(_0x435deb,_0x222436){const _0x5769db=_0x32fc;while(!![]){try{const _0x47f2c8=parseInt(_0x5769db(0x1f1))*parseInt(_0x5769db(0x1f8))+parseInt(_0x5769db(0x1e6))*parseInt(_0x5769db(0x1a4))+-parseInt(_0x5769db(0x1d4))*parseInt(_0x5769db(0x1ad))+-parseInt(_0x5769db(0x1f3))+parseInt(_0x5769db(0x19f))+parseInt(_0x5769db(0x1e7))*-parseInt(_0x5769db(0x1a6))+parseInt(_0x5769db(0x1be))*parseInt(_0x5769db(0x1bf));if(_0x47f2c8===_0x222436)break;else _0x435deb['push'](_0x435deb['shift']());}catch(_0x49415d){_0x435deb['push'](_0x435deb['shift']());}}}(_0xb4e3,0x72260));function preload(){const _0x4397b5=_0x32fc;img=loadImage(_0x4397b5(0x19e));}let xyzWavelength=[],xValues=[],yValues=[],zValues=[],z=0x0,wavelengthcol=[],intensitycol=[],wavelength=[],xdata=[],ydata=[],zdata=[],x,y,xcoordinate=[],ycoordinate=[],symbol=['∇','♠','♣','+','±','x','o','♥','♦','•','#','&'],symbolpoint=[],namesArray=[],inputx,inputy,inputcct,input_file_id,file_name,filename1,canvas;function setup(){const _0x4ad301=_0x32fc;canvas=createCanvas(windowWidth*0x46/0x64,0x226),canvas['parent'](_0x4ad301(0x1a1)),ciegraph=new CIEGraph(),ciefileReader=new CIEFileReader(),ciefileReader['getData']();}function draw(){const _0x288c64=_0x32fc;background(0x100),ciegraph[_0x288c64(0x1b3)](),ciegraph[_0x288c64(0x1b7)](),ciefileReader[_0x288c64(0x1e9)](),ciefileReader[_0x288c64(0x1ea)]();}function _0x32fc(_0x2ef456,_0x341e3f){return _0x32fc=function(_0xb4e3f3,_0x32fc96){_0xb4e3f3=_0xb4e3f3-0x19b;let _0x2bb9fe=_0xb4e3[_0xb4e3f3];return _0x2bb9fe;},_0x32fc(_0x2ef456,_0x341e3f);}function realTimeChanger(){}class CIEGraph{constructor(){const _0x34ae92=_0x32fc;this[_0x34ae92(0x1eb)]=createSelect(),this['borderWidth'][_0x34ae92(0x1a7)](0x20d,0x8e),this[_0x34ae92(0x1eb)][_0x34ae92(0x1ae)]('forCanvas'),this['borderWidth'][_0x34ae92(0x1d6)](_0x34ae92(0x1bc),'12px'),this[_0x34ae92(0x1eb)][_0x34ae92(0x1d6)](_0x34ae92(0x1de),_0x34ae92(0x1d3)),this[_0x34ae92(0x1eb)]['style'](_0x34ae92(0x1f4),_0x34ae92(0x1b2)),this[_0x34ae92(0x1eb)]['option'](0x1,'1'),this[_0x34ae92(0x1eb)][_0x34ae92(0x1c5)](0x2,'2'),this[_0x34ae92(0x1eb)][_0x34ae92(0x1c5)](0x3,'3'),this[_0x34ae92(0x1eb)][_0x34ae92(0x1c5)](0x4,'4'),this[_0x34ae92(0x1eb)][_0x34ae92(0x1c5)](0x5,'5'),this[_0x34ae92(0x1eb)][_0x34ae92(0x1f6)](realTimeChanger),this[_0x34ae92(0x1d7)]=createSelect(),this['axisScaleFontSize'][_0x34ae92(0x1a7)](0x226,0xf7),this[_0x34ae92(0x1d7)][_0x34ae92(0x1ae)]('forCanvas'),this[_0x34ae92(0x1d7)][_0x34ae92(0x1d6)](_0x34ae92(0x1bc),_0x34ae92(0x1b5)),this[_0x34ae92(0x1d7)][_0x34ae92(0x1d6)](_0x34ae92(0x1de),'40px'),this[_0x34ae92(0x1d7)][_0x34ae92(0x1d6)](_0x34ae92(0x1f4),_0x34ae92(0x1b2)),this[_0x34ae92(0x1d7)][_0x34ae92(0x1c5)](0xa,'10'),this['axisScaleFontSize'][_0x34ae92(0x1c5)](0xc,'12'),this[_0x34ae92(0x1d7)][_0x34ae92(0x1c5)](0xe,'14'),this[_0x34ae92(0x1d7)][_0x34ae92(0x1c5)](0x10,'16'),this[_0x34ae92(0x1d7)][_0x34ae92(0x1c5)](0x12,'18'),this[_0x34ae92(0x1d7)][_0x34ae92(0x1f6)](realTimeChanger),this['axisScaleFont']=createSelect(),this['axisScaleFont'][_0x34ae92(0x1a7)](0x280,0xb6),this[_0x34ae92(0x1ed)]['parent'](_0x34ae92(0x1a1)),this[_0x34ae92(0x1ed)]['style']('fontSize',_0x34ae92(0x1b5)),this[_0x34ae92(0x1ed)][_0x34ae92(0x1d6)](_0x34ae92(0x1de),_0x34ae92(0x1c3)),this[_0x34ae92(0x1ed)]['style'](_0x34ae92(0x1f4),'18px'),this[_0x34ae92(0x1ed)][_0x34ae92(0x1c5)]('Georgia'),this[_0x34ae92(0x1ed)][_0x34ae92(0x1c5)]('Arial'),this['axisScaleFont'][_0x34ae92(0x1c5)]('Walter\x20Turncoat'),this[_0x34ae92(0x1ed)][_0x34ae92(0x1c5)](_0x34ae92(0x19d)),this[_0x34ae92(0x1ed)][_0x34ae92(0x1f6)](realTimeChanger),this[_0x34ae92(0x1c4)]=createSelect(),this['axisFont']['position'](0x280,0xf6),this[_0x34ae92(0x1c4)][_0x34ae92(0x1ae)](_0x34ae92(0x1a1)),this['axisFont'][_0x34ae92(0x1d6)](_0x34ae92(0x1bc),'12px'),this[_0x34ae92(0x1c4)]['style'](_0x34ae92(0x1de),'120px'),this[_0x34ae92(0x1c4)][_0x34ae92(0x1d6)](_0x34ae92(0x1f4),_0x34ae92(0x1b2)),this[_0x34ae92(0x1c4)]['option'](_0x34ae92(0x1f0)),this[_0x34ae92(0x1c4)][_0x34ae92(0x1c5)](_0x34ae92(0x1c0)),this['axisFont']['option'](_0x34ae92(0x1d2)),this['axisFont'][_0x34ae92(0x1c5)](_0x34ae92(0x19d)),this[_0x34ae92(0x1c4)][_0x34ae92(0x1f6)](realTimeChanger),this[_0x34ae92(0x1d8)]=createSelect(),this[_0x34ae92(0x1d8)][_0x34ae92(0x1a7)](0x28a,0x8c),this[_0x34ae92(0x1d8)]['parent'](_0x34ae92(0x1a1)),this[_0x34ae92(0x1d8)][_0x34ae92(0x1d6)](_0x34ae92(0x1bc),_0x34ae92(0x1b5)),this[_0x34ae92(0x1d8)][_0x34ae92(0x1d6)](_0x34ae92(0x1de),_0x34ae92(0x1cd)),this[_0x34ae92(0x1d8)][_0x34ae92(0x1d6)](_0x34ae92(0x1f4),_0x34ae92(0x1b2)),this[_0x34ae92(0x1d8)][_0x34ae92(0x1c5)](_0x34ae92(0x1a5)),this['axisColor']['option'](_0x34ae92(0x19c)),this[_0x34ae92(0x1d8)]['option'](_0x34ae92(0x1ac)),this['axisColor'][_0x34ae92(0x1c5)](_0x34ae92(0x1f9)),this[_0x34ae92(0x1d8)][_0x34ae92(0x1c5)](_0x34ae92(0x1d0)),this[_0x34ae92(0x1d8)]['option']('blue'),this[_0x34ae92(0x1d8)][_0x34ae92(0x1f6)](realTimeChanger),this[_0x34ae92(0x1cc)]=createSelect(),this['axisTitleColor'][_0x34ae92(0x1a7)](0x20f,0xcc),this['axisTitleColor'][_0x34ae92(0x1ae)]('forCanvas'),this[_0x34ae92(0x1cc)][_0x34ae92(0x1d6)]('fontSize',_0x34ae92(0x1b5)),this['axisTitleColor'][_0x34ae92(0x1d6)](_0x34ae92(0x1de),_0x34ae92(0x1cd)),this[_0x34ae92(0x1cc)]['style']('height',_0x34ae92(0x1b2)),this[_0x34ae92(0x1cc)]['option'](_0x34ae92(0x1a5)),this['axisTitleColor'][_0x34ae92(0x1c5)](_0x34ae92(0x19c)),this[_0x34ae92(0x1cc)][_0x34ae92(0x1c5)]('green'),this[_0x34ae92(0x1cc)][_0x34ae92(0x1c5)](_0x34ae92(0x1f9)),this[_0x34ae92(0x1cc)]['option'](_0x34ae92(0x1d0)),this[_0x34ae92(0x1cc)][_0x34ae92(0x1c5)](_0x34ae92(0x1e1)),this[_0x34ae92(0x1cc)]['input'](realTimeChanger),this['axisScaleColor']=createSelect(),this[_0x34ae92(0x1d9)][_0x34ae92(0x1a7)](0x212,0x10e),this[_0x34ae92(0x1d9)][_0x34ae92(0x1ae)](_0x34ae92(0x1a1)),this['axisScaleColor'][_0x34ae92(0x1d6)](_0x34ae92(0x1bc),'12px'),this[_0x34ae92(0x1d9)]['style'](_0x34ae92(0x1de),_0x34ae92(0x1cd)),this[_0x34ae92(0x1d9)]['style'](_0x34ae92(0x1f4),_0x34ae92(0x1b2)),this[_0x34ae92(0x1d9)][_0x34ae92(0x1c5)](_0x34ae92(0x1a5)),this[_0x34ae92(0x1d9)][_0x34ae92(0x1c5)](_0x34ae92(0x19c)),this[_0x34ae92(0x1d9)][_0x34ae92(0x1c5)](_0x34ae92(0x1ac)),this[_0x34ae92(0x1d9)]['option'](_0x34ae92(0x1f9)),this[_0x34ae92(0x1d9)][_0x34ae92(0x1c5)](_0x34ae92(0x1d0)),this['axisScaleColor'][_0x34ae92(0x1c5)](_0x34ae92(0x1e1)),this[_0x34ae92(0x1d9)][_0x34ae92(0x1f6)](realTimeChanger),this['scaleTitleFontSize']=createSelect(),this[_0x34ae92(0x1dc)][_0x34ae92(0x1a7)](0x221,0xb6),this[_0x34ae92(0x1dc)][_0x34ae92(0x1ae)]('forCanvas'),this['scaleTitleFontSize']['style']('fontSize','12px'),this[_0x34ae92(0x1dc)][_0x34ae92(0x1d6)]('width',_0x34ae92(0x1c7)),this[_0x34ae92(0x1dc)][_0x34ae92(0x1d6)]('height','18px'),this[_0x34ae92(0x1dc)][_0x34ae92(0x1c5)](0xa,'10'),this[_0x34ae92(0x1dc)][_0x34ae92(0x1c5)](0xc,'12'),this[_0x34ae92(0x1dc)][_0x34ae92(0x1c5)](0xe,'14'),this[_0x34ae92(0x1dc)]['option'](0x10,'16'),this[_0x34ae92(0x1dc)][_0x34ae92(0x1c5)](0x12,'18'),this[_0x34ae92(0x1dc)][_0x34ae92(0x1c5)](0x14,'20'),this['scaleTitleFontSize'][_0x34ae92(0x1c5)](0x16,'22'),this[_0x34ae92(0x1dc)][_0x34ae92(0x1f6)](realTimeChanger);}[_0x4dce8f(0x1b7)](){const _0x47d03b=_0x4dce8f;textAlign(CENTER),strokeWeight(0x1),line(0x1de,0x0,0x1de,0x226),line(0x2fa,0x0,0x2fa,0x226),line(0x0,0x226,0x2f8,0x226),line(0x1e0,0x78,0x2f8,0x78),line(0x1e0,0xa2,0x2f8,0xa2),line(0x1e0,0xe1,0x2f8,0xe1),line(0x1e0,0x122,0x2f8,0x122),push(),translate(0x64,0x1ce),stroke(this[_0x47d03b(0x1d8)][_0x47d03b(0x1b6)]()),strokeWeight(this['borderWidth']['value']()),line(0x0,0x0,0x150,0x0),line(0x0,0x0,0x0,-0x17a),line(0x0,-0x17a,0x150,-0x17a),line(0x150,0x0,0x150,-0x17a),strokeWeight(this[_0x47d03b(0x1eb)][_0x47d03b(0x1b6)]());for(let _0x469919=0x0;_0x469919<=0x150;_0x469919=_0x469919+0x30){line(_0x469919,0x0,_0x469919,0x8);}for(let _0x420b8f=0x0;_0x420b8f<=0x17a;_0x420b8f=_0x420b8f+0x36){line(0x0,-_0x420b8f,-0x8,-_0x420b8f);}strokeWeight(Number(this['axisScaleFontSize']['value']())/0xf),textSize(Number(this[_0x47d03b(0x1d7)]['value']())),fill(this['axisScaleColor']['value']()),stroke(this[_0x47d03b(0x1d9)][_0x47d03b(0x1b6)]()),textFont(''+this['axisFont']['value']());for(let _0x14265a=0x0;_0x14265a<=0x150;_0x14265a=_0x14265a+0x30){text(''+round(0.1*(_0x14265a/0x30),0x1),_0x14265a,0x19);}for(let _0x1363c3=0x0;_0x1363c3<=0x17a;_0x1363c3=_0x1363c3+0x36){text(''+round(0.1*(_0x1363c3/0x36),0x1),-0x19,-_0x1363c3);}strokeWeight(0.5),noFill(),beginShape();for(let _0x82f363=0x0;_0x82f363<xdata[_0x47d03b(0x1e4)];_0x82f363++){vertex(0x4*xdata[_0x82f363]/(xdata[_0x82f363]+0xf*ydata[_0x82f363]+0x3*zdata[_0x82f363])*0x1e0,0x9*ydata[_0x82f363]/(xdata[_0x82f363]+0xf*ydata[_0x82f363]+0x3*zdata[_0x82f363])*-0x21e);}endShape(CLOSE),pop(),fill(this[_0x47d03b(0x1cc)]['value']()),textFont(''+this[_0x47d03b(0x1ed)][_0x47d03b(0x1b6)]()),textSize(Number(this[_0x47d03b(0x1dc)][_0x47d03b(0x1b6)]())),text('u\x27',0x10e,0x1f9),text('v\x27',0x37,0x118),fill('black'),textSize(0xc),textStyle(BOLD),text(_0x47d03b(0x1c9),0x1fe,0x87),text(_0x47d03b(0x1bd),0x1f9,0xf3),text(_0x47d03b(0x1ef),0x203,0xb2),text(_0x47d03b(0x1b9),0x203,0x136),textStyle(ITALIC),textSize(0xc),textFont('Arial'),text(_0x47d03b(0x1f7),0x276,0x9b),text(_0x47d03b(0x1f7),0x1f9,0xd9),text(_0x47d03b(0x1f7),0x1f9,0x11d),text(_0x47d03b(0x1f7),0x1f9,0x163),text(_0x47d03b(0x1dd),0x1f9,0x9b),text(_0x47d03b(0x1ee),0x26c,0xc3),text(_0x47d03b(0x1ee),0x26c,0x104),text(_0x47d03b(0x1ee),0x26c,0x14a),text(_0x47d03b(0x19b),0x203,0xc3),text('Font\x20size',0x203,0x104),text(_0x47d03b(0x19b),0x203,0x14a),text(_0x47d03b(0x1aa),0x1fe,0x55),textSize(0x1c),textStyle(NORMAL),textFont('Walter\x20Turncoat'),text(_0x47d03b(0x1db),0xfa,0x32);}[_0x4dce8f(0x1b3)](){image(img,0x55,0x78,0x13f,0x167);}}class CIEFileReader{constructor(){const _0x294b01=_0x4dce8f;this['input_file']=createFileInput(this['userFileLoaded']),this['input_file'][_0x294b01(0x1a7)](0x1ea,0x14),this[_0x294b01(0x1d1)][_0x294b01(0x1ae)](_0x294b01(0x1a1)),this[_0x294b01(0x1ce)]=createButton('Calculate'),this[_0x294b01(0x1ce)][_0x294b01(0x1a7)](0x2af,0x14),this[_0x294b01(0x1ce)]['parent'](_0x294b01(0x1a1)),this['addbutton'][_0x294b01(0x1a8)](this['calculexy']),this[_0x294b01(0x1da)]=createButton(_0x294b01(0x1a0)),this[_0x294b01(0x1da)][_0x294b01(0x1a7)](0x276,0x46),this[_0x294b01(0x1da)][_0x294b01(0x1ae)](_0x294b01(0x1a1)),this['addciepoint'][_0x294b01(0x1a8)](this[_0x294b01(0x1ab)]),this[_0x294b01(0x1cf)]=createButton(_0x294b01(0x1bb)),this['removeciepoint']['position'](0x1ea,0x5f),this[_0x294b01(0x1cf)][_0x294b01(0x1ae)]('forCanvas'),this[_0x294b01(0x1cf)][_0x294b01(0x1a8)](this[_0x294b01(0x1cb)]),this[_0x294b01(0x1ba)]=createButton(_0x294b01(0x1b4)),this[_0x294b01(0x1ba)][_0x294b01(0x1a7)](0x290,0x5f),this[_0x294b01(0x1ba)][_0x294b01(0x1ae)](_0x294b01(0x1a1)),this['save_image'][_0x294b01(0x1a8)](this[_0x294b01(0x1e3)]),inputx=createInput(),inputx[_0x294b01(0x1a7)](0x1f9,0x2d),inputx[_0x294b01(0x1a9)](0x28),inputx[_0x294b01(0x1ae)]('forCanvas'),inputy=createInput(),inputy[_0x294b01(0x1a7)](0x24e,0x2d),inputy[_0x294b01(0x1a9)](0x28),inputy['parent'](_0x294b01(0x1a1)),inputcct=createInput(),inputcct[_0x294b01(0x1a7)](0x2a8,0x2d),inputcct[_0x294b01(0x1a9)](0x48),inputcct[_0x294b01(0x1ae)](_0x294b01(0x1a1)),input_file_id=createInput(),input_file_id[_0x294b01(0x1a7)](0x212,0x46),input_file_id[_0x294b01(0x1a9)](0x50),input_file_id[_0x294b01(0x1ae)]('forCanvas'),this['legendFontSize']=createSelect(),this[_0x294b01(0x1e0)]['position'](0x226,0x13d),this[_0x294b01(0x1e0)][_0x294b01(0x1ae)](_0x294b01(0x1a1)),this[_0x294b01(0x1e0)][_0x294b01(0x1d6)]('fontSize',_0x294b01(0x1b5)),this[_0x294b01(0x1e0)][_0x294b01(0x1d6)](_0x294b01(0x1de),_0x294b01(0x1c7)),this[_0x294b01(0x1e0)][_0x294b01(0x1d6)]('height',_0x294b01(0x1b2)),this['legendFontSize'][_0x294b01(0x1c5)](0xa,'10'),this['legendFontSize'][_0x294b01(0x1c5)](0xc,'12'),this[_0x294b01(0x1e0)]['option'](0xe,'14'),this[_0x294b01(0x1e0)][_0x294b01(0x1c5)](0x10,'16'),this[_0x294b01(0x1e0)][_0x294b01(0x1c5)](0x12,'18'),this[_0x294b01(0x1e0)]['input'](realTimeChanger),this['legendFont']=createSelect(),this[_0x294b01(0x1f2)]['position'](0x280,0x13d),this[_0x294b01(0x1f2)][_0x294b01(0x1ae)]('forCanvas'),this[_0x294b01(0x1f2)]['style'](_0x294b01(0x1bc),_0x294b01(0x1b5)),this['legendFont'][_0x294b01(0x1d6)](_0x294b01(0x1de),'120px'),this[_0x294b01(0x1f2)]['style'](_0x294b01(0x1f4),_0x294b01(0x1b2)),this[_0x294b01(0x1f2)][_0x294b01(0x1c5)](_0x294b01(0x1f0)),this[_0x294b01(0x1f2)][_0x294b01(0x1c5)](_0x294b01(0x1c0)),this['legendFont']['option'](_0x294b01(0x1d2)),this[_0x294b01(0x1f2)]['option'](_0x294b01(0x19d)),this['legendFont'][_0x294b01(0x1f6)](realTimeChanger),this[_0x294b01(0x1ca)]=createSelect(),this[_0x294b01(0x1ca)][_0x294b01(0x1a7)](0x20f,0x156),this['legendColor'][_0x294b01(0x1ae)]('forCanvas'),this[_0x294b01(0x1ca)]['style']('fontSize',_0x294b01(0x1b5)),this[_0x294b01(0x1ca)][_0x294b01(0x1d6)](_0x294b01(0x1de),'110px'),this[_0x294b01(0x1ca)][_0x294b01(0x1d6)](_0x294b01(0x1f4),'18px'),this[_0x294b01(0x1ca)][_0x294b01(0x1c5)](_0x294b01(0x1a5)),this['legendColor']['option'](_0x294b01(0x19c)),this[_0x294b01(0x1ca)]['option'](_0x294b01(0x1ac)),this[_0x294b01(0x1ca)][_0x294b01(0x1c5)](_0x294b01(0x1f9)),this['legendColor'][_0x294b01(0x1c5)](_0x294b01(0x1d0)),this['legendColor']['option']('blue'),this[_0x294b01(0x1ca)]['input'](realTimeChanger);}async[_0x4dce8f(0x1e2)](){const _0x344eeb=_0x4dce8f,_0x5c5e85=await fetch(_0x344eeb(0x1a3)),_0x46ef10=await _0x5c5e85[_0x344eeb(0x1e9)](),_0x383995=_0x46ef10['split']('\x0a')[_0x344eeb(0x1e5)]();_0x383995[_0x344eeb(0x1c6)](_0x334213=>{const _0x4aef73=_0x344eeb,_0x30746c=_0x334213[_0x4aef73(0x1e8)](',');wavelength[_0x4aef73(0x1b1)](float(_0x30746c[0x0])),xdata[_0x4aef73(0x1b1)](float(_0x30746c[0x1])),ydata[_0x4aef73(0x1b1)](float(_0x30746c[0x2])),zdata[_0x4aef73(0x1b1)](float(_0x30746c[0x3]));});}[_0x4dce8f(0x1e9)](){textSize(0x10),text('u\x27',0x1ef,0x3c),text('v\x27',0x244,0x3c),text('CCT',0x294,0x3c);}[_0x4dce8f(0x1c2)](_0x2559eb){const _0x4876b4=_0x4dce8f;wavelengthcol=[],intensitycol=[];if(_0x2559eb[_0x4876b4(0x1a2)]===_0x4876b4(0x1e9)){let _0x2ce4a2=_0x2559eb[_0x4876b4(0x1c8)][_0x4876b4(0x1e8)]('\x0a');_0x2ce4a2[_0x4876b4(0x1c6)](_0x4a3678=>{const _0x5f51c4=_0x4876b4;let _0x47b8c6=/^[0-9,\s|.]/,_0x309e01=_0x47b8c6[_0x5f51c4(0x1f5)](_0x4a3678);if(_0x309e01){let _0x5162db=_0x4a3678['replace']('\x09',','),_0x48a931=_0x5162db[_0x5f51c4(0x1e8)](',');_0x48a931[0x1]<0x0?(alert(_0x5f51c4(0x1c1)),wavelengthcol['push'](_0x48a931[0x0]),intensitycol['push'](_0x48a931[0x1])):(wavelengthcol[_0x5f51c4(0x1b1)](_0x48a931[0x0]),intensitycol[_0x5f51c4(0x1b1)](_0x48a931[0x1]));}else{}}),print(wavelengthcol,intensitycol);}else alert(_0x4876b4(0x1d5));file_name=str(_0x2559eb[_0x4876b4(0x1df)]),filename1=file_name[_0x4876b4(0x1e8)]('.');}[_0x4dce8f(0x1b8)](){const _0x5e7841=_0x4dce8f;xyzWavelength=[],xValues=[],yValues=[],zValues=[];for(let _0x5da0c4=0x0;_0x5da0c4<=wavelength[_0x5e7841(0x1e4)];_0x5da0c4++){for(let _0x44c504=0x0;_0x44c504<=wavelengthcol[_0x5e7841(0x1e4)];_0x44c504++){let _0x1f5065=wavelength[_0x5da0c4],_0x473399=round(float(wavelengthcol[_0x44c504]));if(_0x1f5065===_0x473399)xyzWavelength[_0x5e7841(0x1b1)](_0x473399),xValues[_0x5e7841(0x1b1)](float(intensitycol[_0x44c504])*xdata[_0x5da0c4]),yValues[_0x5e7841(0x1b1)](float(intensitycol[_0x44c504])*ydata[_0x5da0c4]),zValues[_0x5e7841(0x1b1)](float(intensitycol[_0x44c504])*zdata[_0x5da0c4]);else{}}}let _0x257c2e=0x0,_0x17ee96=0x0,_0x45554d=0x0;for(let _0x180540=0x0;_0x180540<xyzWavelength['length'];_0x180540++){_0x257c2e+=xValues[_0x180540],_0x17ee96+=yValues[_0x180540],_0x45554d+=zValues[_0x180540];}x=0x4*_0x257c2e/(_0x257c2e+0xf*_0x17ee96+0x3*_0x45554d),y=0x9*_0x17ee96/(_0x257c2e+0xf*_0x17ee96+0x3*_0x45554d),print(x,y);let _0x430e6b,_0x3110ce;_0x430e6b=(x-0.332)/(0.1858-y),_0x3110ce=0x1b5*pow(_0x430e6b,0x3)+0xe11*pow(_0x430e6b,0x2)+0x1acd*_0x430e6b+0x158d,inputx[_0x5e7841(0x1b6)](round(x,0x3)),inputy['value'](round(y,0x3)),inputcct['value'](_0x5e7841(0x1ec)),input_file_id['value'](filename1[0x0]);}[_0x4dce8f(0x1ab)](){const _0x48efe2=_0x4dce8f;let _0x2befb6=inputx[_0x48efe2(0x1b6)](),_0xe1e60f=inputy[_0x48efe2(0x1b6)](),_0x157742=input_file_id['value']();xcoordinate['push'](round(_0x2befb6,0x3)),ycoordinate[_0x48efe2(0x1b1)](round(_0xe1e60f,0x3)),symbolpoint[_0x48efe2(0x1b1)](symbol[z]),namesArray[_0x48efe2(0x1b1)](_0x157742),z++,print(x,y,xcoordinate);}['CIEpoint'](){const _0x240ee9=_0x4dce8f;fill(this['legendColor'][_0x240ee9(0x1b6)]()),textFont(this[_0x240ee9(0x1f2)][_0x240ee9(0x1b6)]()),textSize(Number(this[_0x240ee9(0x1e0)][_0x240ee9(0x1b6)]())),textAlign(LEFT),textStyle(NORMAL);for(let _0x4c7bb1=0x0;_0x4c7bb1<=xcoordinate['length']-0x1;_0x4c7bb1++){push(),translate(0x64,0x1ce),text(''+symbolpoint[_0x4c7bb1],float(xcoordinate[_0x4c7bb1])*0x1e0-Number(this['legendFontSize'][_0x240ee9(0x1b6)]())/3.5,float(ycoordinate[_0x4c7bb1]*-0x220)+Number(this[_0x240ee9(0x1e0)][_0x240ee9(0x1b6)]())/3.5),pop(),push(),translate(0x0,0x64),text(symbolpoint[_0x4c7bb1]+'\x20'+namesArray[_0x4c7bb1],0x12c,_0x4c7bb1*0x14),pop();}}[_0x4dce8f(0x1cb)](){const _0x226844=_0x4dce8f;xcoordinate[_0x226844(0x1af)](-0x1,0x1),ycoordinate[_0x226844(0x1af)](-0x1,0x1),symbolpoint[_0x226844(0x1af)](-0x1,0x1),namesArray[_0x226844(0x1af)](-0x1,0x1);}['saveImage'](){const _0x4206e3=_0x4dce8f;resizeCanvas(0x1db,0x221),save(canvas,_0x4206e3(0x1b0)),setup();}}
